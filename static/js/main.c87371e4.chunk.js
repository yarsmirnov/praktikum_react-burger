(this["webpackJsonpreact-burger"]=this["webpackJsonpreact-burger"]||[]).push([[0],{107:function(e,t,r){e.exports={ldsEllipsis:"loader_ldsEllipsis__Mj9H_",ldsEllipsis1:"loader_ldsEllipsis1__35Jt6",ldsEllipsis2:"loader_ldsEllipsis2__3D8XY",ldsEllipsis3:"loader_ldsEllipsis3__1fBRg"}},109:function(e,t,r){e.exports={overlay:"modal-overlay_overlay__2EkGd"}},15:function(e,t,r){e.exports={canAccept:"burger-constructor_canAccept__2qkSB",emptyConstructor:"burger-constructor_emptyConstructor__2kG-f",emptyConstructor_maxHeight:"burger-constructor_emptyConstructor_maxHeight__93dJN",ingredientsList:"burger-constructor_ingredientsList__Qp6LU",listItem:"burger-constructor_listItem__3iyf8",draggingItem:"burger-constructor_draggingItem__26ji7",itemIcon:"burger-constructor_itemIcon__n-wxe",order:"burger-constructor_order__2Q8qx",orderTotal:"burger-constructor_orderTotal__vvBTV",orderCurrencyIcon:"burger-constructor_orderCurrencyIcon__1-a5a"}},16:function(e,t,r){e.exports={loaderContainer:"order-info_loaderContainer__2U50Z",pageContainer:"order-info_pageContainer__2WXIa",orderNumber:"order-info_orderNumber__1D023",orderName:"order-info_orderName__2bpAG",orderStatus:"order-info_orderStatus__3_cd1",orderComposition:"order-info_orderComposition__2tShS",ingredientsList:"order-info_ingredientsList__3QoxT",ingredient:"order-info_ingredient__RXSBr",ingredientPreview:"order-info_ingredientPreview__Gmucx",ingredientName:"order-info_ingredientName__3kz4p",ingredientPrice:"order-info_ingredientPrice__1x_hl",orderColumns:"order-info_orderColumns__3RNQi",orderDate:"order-info_orderDate__2LvqF",orderTotalPrice:"order-info_orderTotalPrice__10CtS"}},19:function(e,t,r){e.exports={pageContainer:"order_pageContainer__3cbhU",orderNumber:"order_orderNumber__2EuFS",orderName:"order_orderName__HLEVL",orderStatus:"order_orderStatus__3NLd9",statusDone:"order_statusDone__ovzdm",statusInWork:"order_statusInWork__2OwQ5",statusCanseled:"order_statusCanseled__2M-Si",orderComposition:"order_orderComposition__M6Tet",ingredientsList:"order_ingredientsList__2-7JK",ingredient:"order_ingredient__KFhol",ingredientPreview:"order_ingredientPreview__1d5mO",ingredientName:"order_ingredientName__1-R1F",ingredientPrice:"order_ingredientPrice__3HhL3",orderColumns:"order_orderColumns__1gdhd",orderDate:"order_orderDate__3B4nF",orderTotalPrice:"order_orderTotalPrice__2VAx0"}},192:function(e,t,r){},193:function(e,t,r){"use strict";r.r(t);var n=r(1),c=r(39),a=r.n(c),i=r(52),s=r(111),o=r(48),l=r(17),u=r(14),d=r(2),m="BURGER_CONSTRUCTOR_ADD_ITEM",j="BURGER_CONSTRUCTOR_REMOVE_ITEM",_="BURGER_CONSTRUCTOR_MOVE_ITEM",b="BURGER_CONSTRUCTOR_SET_BUN",p="BURGER_CONSTRUCTOR_CLEAR_CONSTRUCTOR",O="INGREDIETNS_REQUEST",f="INGREDIETNS_SUCCESS",x="INGREDIETNS_FAILURE",h="INGREDIETNS_INCREASE_INGREDIENT_COUNT",E="INGREDIETNS_DECREASE_INGREDIENT_COUNT",S="INGREDIETNS_RESET_INGREDIENTS_COUNTER",g="MODAL_OPEN_MODAL",R="MODAL_CLOSE_MODAL",v="ORDER_REQUEST",y="ORDER_SUCCESS",N="ORDER_FAILURE",C="ORDER_RESET_REQUEST_STATUS",T="USER_SET_USER",I="USER_SET_REGISTER_REQUEST",U="USER_SET_REGISTER_SUCCESS",w="USER_SET_REGISTER_FAILURE",k="USER_SET_LOGIN_REQUEST",L="USER_SET_LOGIN_SUCCESS",A="USER_SET_LOGIN_FAILURE",F="USER_SET_LOGOUT_REQUEST",G="USER_SET_LOGOUT_SUCCESS",P="USER_SET_LOGOUT_FAILURE",D="USER_SET_GET_USER_REQUEST",M="USER_SET_GET_USER_SUCCESS",W="USER_SET_GET_USER_FAILURE",Q="USER_SET_PATCH_USER_REQUEST",B="USER_SET_PATCH_USER_SUCCESS",H="USER_SET_PATCH_USER_FAILURE",V="FORM_FORGOT_PASSWORD_SET_VALUE",z="FORM_FORGOT_PASSWORD_SET_VERIFIED_EMAIL",J="FORM_FORGOT_PASSWORD_CLEAR_FORM",Y="FORM_FORGOT_PASSWORD_REQUEST",q="FORM_FORGOT_PASSWORD_SUCCESS",X="FORM_FORGOT_PASSWORD_FAILURE",K="FORM_LOGIN_SET_VALUE",Z="FORM_LOGIN_CLEAR_FORM",$="FORM_PROFILE_SET_INITIAL_VALUE",ee="FORM_PROFILE_SET_VALUE",te="FORM_PROFILE_RESET_FORM",re="FORM_PROFILE_CLEAR_FORM",ne="FORM_REGISTER_SET_VALUE",ce="FORM_REGISTER_CLEAR_FORM",ae="FORM_RESET_PASSWORD_SET_VALUE",ie="FORM_RESET_PASSWORD_CLEAR_FORM",se="FORM_RESET_PASSWORD_REQUEST",oe="FORM_RESET_PASSWORD_SUCCESS",le="FORM_RESET_PASSWORD_FAILURE",ue="WS_CONNECTION_START",de="WS_CONNECTION_SUCCESS",me="WS_CONNECTION_ERROR",je="WS_CONNECTION_CLOSED",_e="WS_GET_MESSAGE",be={items:[]},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(d.a)(Object(d.a)({},e),{},{items:[].concat(Object(u.a)(e.items),[Object(d.a)({},t.payload)])});case j:return Object(d.a)(Object(d.a)({},e),{},{items:Object(u.a)(e.items).filter((function(e){return e.uuid!==t.payload}))});case _:var r=t.payload.dragged,n=t.payload.hovered;if(r===n)return e;var c=Object(u.a)(e.items);return c.splice(n,0,c.splice(r,1)[0]),Object(d.a)(Object(d.a)({},e),{},{items:Object(u.a)(c)});case b:var a=Object(u.a)(e.items).findIndex((function(e){return"bun"===e.type}));if(a>=0){var i=Object(u.a)(e.items);return i.splice(a,1,Object(d.a)({},t.payload)),Object(d.a)(Object(d.a)({},e),{},{items:i})}return Object(d.a)(Object(d.a)({},e),{},{items:[].concat(Object(u.a)(e.items),[Object(d.a)({},t.payload)])});case p:return be;default:return e}},Oe=r(25),fe={VERIFY_EMAIL_REQUEST:!1,VERIFY_EMAIL_SUCCESS:!1,VERIFY_EMAIL_FAILURE:!1,verifiedEmail:null,form:{email:""}},xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return Object(d.a)(Object(d.a)({},e),{},{form:Object(d.a)(Object(d.a)({},e.form),{},Object(Oe.a)({},t.payload.name,t.payload.value))});case z:return Object(d.a)(Object(d.a)({},e),{},{verifiedEmail:t.payload,form:Object(d.a)({},e.form)});case J:return Object(d.a)(Object(d.a)({},fe),{},{verifiedEmail:e.verifiedEmail});case Y:return Object(d.a)(Object(d.a)({},e),{},{VERIFY_EMAIL_REQUEST:!0,VERIFY_EMAIL_SUCCESS:!1,VERIFY_EMAIL_FAILURE:!1,form:Object(d.a)({},e.form)});case q:return Object(d.a)(Object(d.a)({},e),{},{VERIFY_EMAIL_REQUEST:!1,VERIFY_EMAIL_SUCCESS:!0,VERIFY_EMAIL_FAILURE:!1,form:Object(d.a)({},e.form)});case X:return Object(d.a)(Object(d.a)({},e),{},{VERIFY_EMAIL_REQUEST:!1,VERIFY_EMAIL_SUCCESS:!1,VERIFY_EMAIL_FAILURE:!0,form:Object(d.a)({},e.form)});default:return e}},he={form:{email:"",password:""}},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return Object(d.a)(Object(d.a)({},e),{},{form:Object(d.a)(Object(d.a)({},e.form),{},Object(Oe.a)({},t.payload.name,t.payload.value))});case Z:return he;default:return e}},Se={initialForm:{email:"",password:"",name:""},form:{email:"",password:"",name:""}},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return Object(d.a)(Object(d.a)({},e),{},{initialForm:Object(d.a)(Object(d.a)({},e.initialForm),t.payload),form:Object(d.a)(Object(d.a)({},e.initialForm),t.payload)});case ee:return Object(d.a)(Object(d.a)({},e),{},{initialForm:Object(d.a)({},e.initialForm),form:Object(d.a)(Object(d.a)({},e.form),{},Object(Oe.a)({},t.payload.name,t.payload.value))});case te:return Object(d.a)(Object(d.a)({},e),{},{initialForm:Object(d.a)({},e.initialForm),form:Object(d.a)({},e.initialForm)});case re:return Se;default:return e}},Re={form:{email:"",password:"",name:""}},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne:return Object(d.a)(Object(d.a)({},e),{},{form:Object(d.a)(Object(d.a)({},e.form),{},Object(Oe.a)({},t.payload.name,t.payload.value))});case ce:return Re;default:return e}},ye={RESET_PASSWORD_REQUEST:!1,RESET_PASSWORD_SUCCESS:!1,RESET_PASSWORD_FAILURE:!1,form:{password:"",token:""}},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:return Object(d.a)(Object(d.a)({},e),{},{form:Object(d.a)(Object(d.a)({},e.form),{},Object(Oe.a)({},t.payload.name,t.payload.value))});case ie:return ye;case se:return Object(d.a)(Object(d.a)({},e),{},{RESET_PASSWORD_REQUEST:!0,RESET_PASSWORD_SUCCESS:!1,RESET_PASSWORD_FAILURE:!1,form:Object(d.a)({},e.form)});case oe:return Object(d.a)(Object(d.a)({},e),{},{RESET_PASSWORD_REQUEST:!1,RESET_PASSWORD_SUCCESS:!0,RESET_PASSWORD_FAILURE:!1,form:Object(d.a)({},ye.form)});case le:return Object(d.a)(Object(d.a)({},e),{},{RESET_PASSWORD_REQUEST:!1,RESET_PASSWORD_SUCCESS:!1,RESET_PASSWORD_FAILURE:!0,form:Object(d.a)({},e.form)});default:return e}},Ce={INGREDIENTS_REQUEST:!1,INGREDIENTS_SUCCESS:!1,INGREDIENTS_FAILURE:!1,items:[]},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(d.a)(Object(d.a)({},e),{},{INGREDIENTS_REQUEST:!0,INGREDIENTS_SUCCESS:!1,INGREDIENTS_FAILURE:!1,items:Object(u.a)(e.items)});case f:return Object(d.a)(Object(d.a)({},e),{},{INGREDIENTS_REQUEST:!1,INGREDIENTS_SUCCESS:!0,INGREDIENTS_FAILURE:!1,items:t.payload});case x:return Object(d.a)(Object(d.a)({},Ce),{},{INGREDIENTS_REQUEST:!1,INGREDIENTS_SUCCESS:!1,INGREDIENTS_FAILURE:!0});case h:var r=t.payload,n=r.id,c=r.type,a=Object(u.a)(e.items).map((function(e){return"bun"===c&&"bun"===e.type?Object(d.a)(Object(d.a)({},e),{},{count:e.id===n?2:0}):e.id===n?Object(d.a)(Object(d.a)({},e),{},{count:e.count+1}):e}));return Object(d.a)(Object(d.a)({},e),{},{items:a});case E:var i=t.payload,s=Object(u.a)(e.items).map((function(e){return e.id===i?Object(d.a)(Object(d.a)({},e),{},{count:e.count-1}):e}));return Object(d.a)(Object(d.a)({},e),{},{items:s});case S:var o=e.items.map((function(e){return e.count?Object(d.a)(Object(d.a)({},e),{},{count:0}):e}));return Object(d.a)(Object(d.a)({},e),{},{items:o});default:return e}},Ie={isOpen:!1,ComponentToView:null},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return{isOpen:!0,ComponentToView:t.payload};case R:return Ie;default:return e}},we={ORDER_REQUEST:!1,ORDER_SUCCESS:!1,ORDER_FAILURE:!1,orderData:{}},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(d.a)(Object(d.a)({},e),{},{ORDER_REQUEST:!0,ORDER_SUCCESS:!1,ORDER_FAILURE:!1});case y:return Object(d.a)(Object(d.a)({},e),{},{ORDER_REQUEST:!1,ORDER_SUCCESS:!0,ORDER_FAILURE:!1,orderData:Object(d.a)({},t.payload)});case N:return Object(d.a)(Object(d.a)({},we),{},{ORDER_REQUEST:!1,ORDER_SUCCESS:!1,ORDER_FAILURE:!0});case C:return Object(d.a)(Object(d.a)({},we),{},{orderData:Object(d.a)({},e.orderData)});default:return e}},Le={user:null,REGISTER_REQUEST:!1,REGISTER_SUCCESS:!1,REGISTER_FAILURE:!1,LOGIN_REQUEST:!1,LOGIN_SUCCESS:!1,LOGIN_FAILURE:!1,LOGOUT_REQUEST:!1,LOGOUT_SUCCESS:!1,LOGOUT_FAILURE:!1,GET_USER_REQUEST:!1,GET_USER_SUCCESS:!1,GET_USER_FAILURE:!1,PATCH_USER_REQUEST:!1,PATCH_USER_SUCCESS:!1,PATCH_USER_FAILURE:!1},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object(d.a)(Object(d.a)({},e),{},{user:t.payload});case I:return Object(d.a)(Object(d.a)({},e),{},{REGISTER_REQUEST:!0,REGISTER_SUCCESS:!1,REGISTER_FAILURE:!1,user:null});case U:return Object(d.a)(Object(d.a)({},e),{},{REGISTER_REQUEST:!1,REGISTER_SUCCESS:!0,REGISTER_FAILURE:!1,user:e.user?Object(d.a)({},e.user):null});case w:return Object(d.a)(Object(d.a)({},e),{},{REGISTER_REQUEST:!1,REGISTER_SUCCESS:!1,REGISTER_FAILURE:!0,user:null});case k:return Object(d.a)(Object(d.a)({},e),{},{LOGIN_REQUEST:!0,LOGIN_SUCCESS:!1,LOGIN_FAILURE:!1,user:null});case L:return Object(d.a)(Object(d.a)({},e),{},{LOGIN_REQUEST:!1,LOGIN_SUCCESS:!0,LOGIN_FAILURE:!1,user:e.user?Object(d.a)({},e.user):null});case A:return Object(d.a)(Object(d.a)({},e),{},{LOGIN_REQUEST:!1,LOGIN_SUCCESS:!1,LOGIN_FAILURE:!0,user:null});case F:return Object(d.a)(Object(d.a)({},e),{},{LOGOUT_REQUEST:!0,LOGOUT_SUCCESS:!1,LOGOUT_FAILURE:!1,user:e.user?Object(d.a)({},e.user):null});case G:return Object(d.a)(Object(d.a)({},e),{},{LOGOUT_REQUEST:!1,LOGOUT_SUCCESS:!0,LOGOUT_FAILURE:!1,user:null});case P:return Object(d.a)(Object(d.a)({},e),{},{LOGOUT_REQUEST:!1,LOGOUT_SUCCESS:!1,LOGOUT_FAILURE:!0,user:e.user?Object(d.a)({},e.user):null});case D:return Object(d.a)(Object(d.a)({},e),{},{GET_USER_REQUEST:!0,GET_USER_SUCCESS:!1,GET_USER_FAILURE:!1,user:e.user?Object(d.a)({},e.user):null});case M:return Object(d.a)(Object(d.a)({},e),{},{GET_USER_REQUEST:!1,GET_USER_SUCCESS:!0,GET_USER_FAILURE:!1,user:e.user?Object(d.a)({},e.user):null});case W:return Object(d.a)(Object(d.a)({},e),{},{GET_USER_REQUEST:!1,GET_USER_SUCCESS:!1,GET_USER_FAILURE:!0,user:e.user?Object(d.a)({},e.user):null});case Q:return Object(d.a)(Object(d.a)({},e),{},{PATCH_USER_REQUEST:!0,PATCH_USER_SUCCESS:!1,PATCH_USER_FAILURE:!1,user:e.user?Object(d.a)({},e.user):null});case B:return Object(d.a)(Object(d.a)({},e),{},{PATCH_USER_REQUEST:!1,PATCH_USER_SUCCESS:!0,PATCH_USER_FAILURE:!1,user:e.user?Object(d.a)({},e.user):null});case H:return Object(d.a)(Object(d.a)({},e),{},{PATCH_USER_REQUEST:!1,PATCH_USER_SUCCESS:!1,PATCH_USER_FAILURE:!0,user:e.user?Object(d.a)({},e.user):null});default:return e}},Fe={wsConnected:!1,orders:[],total:0,totalToday:0,error:null},Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue:return Fe;case de:return Object(d.a)(Object(d.a)({},e),{},{error:null,wsConnected:!0});case me:return Object(d.a)(Object(d.a)({},e),{},{error:t.payload,wsConnected:!1});case je:return Fe;case _e:var r=t.payload,n=r.orders,c=r.total,a=r.totalToday;return Object(d.a)(Object(d.a)({},e),{},{error:null,orders:n,total:c,totalToday:a});default:return e}},Pe=Object(l.b)({burgerConstructor:pe,formForgotPassword:xe,formLogin:Ee,formProfile:ge,formRegister:ve,formResetPassword:Ne,ingredients:Te,modal:Ue,order:ke,user:Ae,websocket:Ge}),De=function(e){return{type:ue,payload:e}},Me=function(){return{type:je}},We=Object(s.a)({reducer:Pe,middleware:[o.a,function(e){var t=null;return function(r){return function(n){var c=e.dispatch,a=n.type,i=n.payload;if(a===ue){var s=n.payload;t=new WebSocket(s)}if(t&&(t.onopen=function(){c({type:de})},t.onerror=function(e){c({type:me,payload:e})},t.onmessage=function(e){var t=e.data,r=JSON.parse(t);c(function(e){return{type:_e,payload:e}}(r))},t.onclose=function(){c(Me())},"WS_SEND_MESSAGE"===a)){var o=i;t.send(JSON.stringify(o))}r(n)}}}],devTools:!1}),Qe=function(){return Object(i.b)()},Be=i.c,He=r(5),Ve=r.n(He),ze=r(10);function Je(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}function Ye(e,t,r){var n=(r=r||{}).expires;if("number"==typeof n&&n){var c=new Date;c.setTime(c.getTime()+1e3*n),n=r.expires=c}n&&n.toUTCString&&(r.expires=n.toUTCString());var a=e+"="+(t="string"===typeof t?encodeURIComponent(t):"");for(var i in r){a+="; "+i;var s=r[i];!0!==s&&(a+="="+s)}document.cookie=a}var qe="https://norma.nomoreparties.space/api",Xe=function(){var e=Object(ze.a)(Ve.a.mark((function e(){return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(qe,"/auth/token"),{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({token:localStorage.getItem("refreshToken")})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ke=function(){var e=Object(ze.a)(Ve.a.mark((function e(){return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(qe,"/ingredients"),{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Je("accessToken")},redirect:"follow",referrerPolicy:"no-referrer"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ze=function(){var e=Object(ze.a)(Ve.a.mark((function e(){return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(qe,"/auth/user"),{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Je("accessToken")},redirect:"follow",referrerPolicy:"no-referrer"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$e=function(){var e=Object(ze.a)(Ve.a.mark((function e(t){return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://norma.nomoreparties.space/api/orders/".concat(t),{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),et=function(){var e=Object(ze.a)(Ve.a.mark((function e(t){return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(qe,"/auth/register"),{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),tt=function(){var e=Object(ze.a)(Ve.a.mark((function e(t){return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(qe,"/auth/login"),{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),rt=function(){var e=Object(ze.a)(Ve.a.mark((function e(t){return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(qe,"/auth/user"),{method:"PATCH",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Je("accessToken")},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),nt=function(){var e=Object(ze.a)(Ve.a.mark((function e(){return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(qe,"/auth/logout"),{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({token:localStorage.getItem("refreshToken")})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ct=function(){var e=Object(ze.a)(Ve.a.mark((function e(t){return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(qe,"/orders"),{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Je("accessToken")},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),at=function(){var e=Object(ze.a)(Ve.a.mark((function e(t){return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(qe,"/password-reset"),{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),it=function(){var e=Object(ze.a)(Ve.a.mark((function e(t){return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(qe,"/password-reset/reset"),{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),st=function(e){return{type:T,payload:e}},ot=function(e){return function(){var t=Object(ze.a)(Ve.a.mark((function t(r){return Ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Xe().then((function(t){localStorage.setItem("refreshToken",t.refreshToken),Ye("accessToken",t.accessToken,null),r(e)})).catch((function(e){throw e}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},lt=function e(){return function(){var t=Object(ze.a)(Ve.a.mark((function t(r){return Ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:D}),t.next=3,Ze().then((function(e){if(!e.ok&&403!==e.status)throw new Error("Failed get user request");return e.json()})).then((function(e){if(!e.success)throw e;r(st(e.user)),r({type:M})})).catch((function(t){"jwt expired"===t.message?r(ot(e())):(r(st(null)),r({type:W}),console.error(t))}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ut=function e(t){return function(){var r=Object(ze.a)(Ve.a.mark((function r(n){return Ve.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n({type:Q}),r.next=3,rt(t).then((function(e){if(!e.ok&&403!==e.status)throw new Error("Failed get user request");return e.json()})).then((function(e){if(!e.success)throw e;return n(st(e.user)),n({type:B}),e})).catch((function(r){"jwt expired"===r.message?n(ot(e(t))):(n({type:H}),console.error(r))}));case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},dt=function(e){return 0===e.length?[]:e.map((function(e){return{id:e._id,name:e.name,type:e.type,proteins:e.proteins,fat:e.fat,carbohydrates:e.carbohydrates,calories:e.calories,price:e.price,image:e.image,imageMobile:e.image_mobile,imageLarge:e.image_large,count:0,__v:e.__v}}))},mt=function(e){return{type:f,payload:e}},jt=function(){return function(){var e=Object(ze.a)(Ve.a.mark((function e(t){return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ke().then((function(e){if(e.ok)return e.json();throw new Error("Responsed with status ".concat(e.status))})).then((function(e){if(!e.success)throw new Error("Get data finished with no success");var r=dt(e.data);t(mt(r))})).catch((function(e){console.error("Error:",e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},_t=function(e){return{type:g,payload:e}},bt=r(12),pt=r(6),Ot=r(62),ft=r(0),xt=["children"],ht=function(e){var t=e.children,r=Object(Ot.a)(e,xt),n=Be((function(e){return e.user})).user;return Object(ft.jsx)(bt.b,Object(d.a)(Object(d.a)({},r),{},{render:function(e){var r=e.location;return n?t:Object(ft.jsx)(bt.a,{to:{pathname:"/login",state:{from:r}}})}}))},Et=["children"],St=function(e){var t=e.children,r=Object(Ot.a)(e,Et),n=Be((function(e){return e.user})).user;return Object(ft.jsx)(bt.b,Object(d.a)(Object(d.a)({},r),{},{render:function(){return n?Object(ft.jsx)(bt.a,{to:"/"}):t}}))},gt=r(8),Rt=function(e,t){var r=[];if(!e||!t||!e.length||!t.length)return r;for(var n=e.reduce((function(e,t){if(!t||""===t||"null"===t)return e;var r=t.toString();return e[r]=e[r]?e[r]+1:1,e}),{}),c=function(){var e=Object(gt.a)(i[a],2),n=e[0],c=e[1];if(!n)return"continue";var s=t.find((function(e){return e.id===n}));if(!s)return console.error("Cant't find ingredient with id \"".concat(n,'" on local database')),"continue";var o={count:c,price:null===s||void 0===s?void 0:s.price,img:null===s||void 0===s?void 0:s.imageMobile,name:null===s||void 0===s?void 0:s.name};"bun"===(null===s||void 0===s?void 0:s.type)?r.unshift(o):r.push(o)},a=0,i=Object.entries(n);a<i.length;a++)c();return r},vt=r(58),yt=r.n(vt),Nt=(r(124),function(e){yt.a.locale("ru");return"".concat(yt()(e).calendar()," ").concat("i-GMT+3")}),Ct=r(3),Tt=r(40),It=r.n(Tt),Ut=function(e){var t=e.img,r=e.name,n=e.count,c=e.leftItems,a=void 0===c?null:c;return a?Object(ft.jsx)("li",{className:"".concat(It.a.item_last),children:Object(ft.jsx)("p",{className:"".concat(It.a.more," text text_type_main-default text_color_inactive"),children:"...".concat(a)})}):Object(ft.jsxs)("li",{className:"".concat(It.a.item),children:[Object(ft.jsx)("img",{className:"".concat(It.a.image),src:t,alt:r}),n&&n>1?Object(ft.jsx)("span",{className:"".concat(It.a.count," text text_type_main-default"),children:"+".concat(n)}):null]})},wt=r(29),kt=r.n(wt),Lt=function(e){var t=e.orderInfo,r=e.ingredientsList,c=t.ingredients,a=t.name,i=t.createdAt,s=t.number,o=Nt(i),l=Object(n.useMemo)((function(){return Rt(c,r)}),[c,r]),u=Object(n.useMemo)((function(){return l.reduce((function(e,t){return e+t.price*t.count}),0)}),[l]),d=Object(n.useMemo)((function(){return l.length>6?l.slice(0,6):l}),[l]),m=Object(n.useMemo)((function(){return l.length>6?l.length-6:0}),[l]);return Object(ft.jsxs)("div",{className:"".concat(kt.a.card," p-6"),children:[Object(ft.jsxs)("div",{className:"".concat(kt.a.card_header," mb-6"),children:[Object(ft.jsx)("p",{className:"text text_type_digits-default",children:"#".concat(String(s).padStart(6,"0"))}),Object(ft.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:o})]}),Object(ft.jsx)("h3",{className:"text text_type_main-medium mb-6",children:a}),Object(ft.jsxs)("div",{className:"".concat(kt.a.card_footer),children:[Object(ft.jsxs)("ul",{className:"".concat(kt.a.card_ingredientsPreview),children:[d.map((function(e){var t=e.img,r=e.name,n=e.count;return Object(ft.jsx)(Ut,{img:t,name:t,count:n},r)})),m?Object(ft.jsx)(Ut,{leftItems:m},"lastInfo"):null]}),Object(ft.jsxs)("p",{className:"".concat(kt.a.card_totalPrice," text text_type_digits-default"),children:[u,Object(ft.jsx)("i",{className:"".concat(kt.a.card_totalPriceIcon," ml-2"),children:Object(ft.jsx)(Ct.CurrencyIcon,{type:"primary"})})]})]})]})},At=r(107),Ft=r.n(At),Gt=function(){return Object(ft.jsxs)("div",{className:"".concat(Ft.a.ldsEllipsis),children:[Object(ft.jsx)("div",{}),Object(ft.jsx)("div",{}),Object(ft.jsx)("div",{}),Object(ft.jsx)("div",{})]})},Pt=r(85),Dt=r.n(Pt),Mt=function(e){switch(e){case"done":return"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d";case"created":return"\u0421\u043e\u0437\u0434\u0430\u043d";case"pending":return"\u0413\u043e\u0442\u043e\u0432\u0438\u0442\u0441\u044f";case"canceled":return"\u041e\u0442\u043c\u0435\u043d\u0451\u043d";default:return"\u041d\u0435 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0451\u043d"}},Wt=function(e){var t=e.status;return Object(ft.jsx)("span",{className:"".concat(Dt.a.default," ").concat(Dt.a[t]),children:Mt(t)})},Qt=r(16),Bt=r.n(Qt),Ht=function(){var e=Be((function(e){return e.ingredients})).items,t=Be((function(e){return e.websocket})).orders,r=Object(bt.i)().orderNumber,c=Object(n.useMemo)((function(){return function(e,t){return t.find((function(t){var r="string"===t.number?t.number:"".concat(t.number);return parseInt(r,10)===parseInt(e,10)}))}(r,t)}),[r,t]),a=Object(n.useMemo)((function(){return c?Rt(c.ingredients,e):[]}),[c,e]),i=Object(n.useMemo)((function(){return a.reduce((function(e,t){return e+t.price*t.count}),0)}),[a]);if(!c)return Object(ft.jsx)("div",{className:"".concat(Bt.a.loaderContainer," pt-30"),children:Object(ft.jsx)(Gt,{})});var s=c.name,o=c.number,l=c.status,u=c.createdAt,d="#".concat(String(o).padStart(6,"0")),m=Nt(u);return Object(ft.jsxs)("div",{className:"".concat(Bt.a.pageContainer," text text_type_main-default pt-15 pb-10"),children:[Object(ft.jsx)("h1",{className:"visualliHidden",children:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0437\u0430\u043a\u0430\u0437\u0435"}),Object(ft.jsx)("h2",{className:"".concat(Bt.a.orderNumber," text text_type_digits-default mb-10"),children:d}),Object(ft.jsx)("p",{className:"".concat(Bt.a.orderName," text text_type_main-medium mb-3"),children:s}),Object(ft.jsx)("p",{className:"".concat(Bt.a.orderStatus," mb-15"),children:Object(ft.jsx)(Wt,{status:l})}),Object(ft.jsx)("h3",{className:"".concat(Bt.a.orderComposition," text text_type_main-medium mb-6"),children:"\u0421\u043e\u0441\u0442\u0430\u0432:"}),Object(ft.jsx)("ul",{className:"".concat(Bt.a.ingredientsList," scroller pr-6 mb-10"),children:a.map((function(e){return function(e){var t=e.img,r=e.name,n=e.count,c=e.price;return Object(ft.jsxs)("li",{className:"".concat(Bt.a.ingredient," text text_type_main-default"),children:[Object(ft.jsx)("div",{className:"".concat(Bt.a.ingredientPreview," mr-4"),children:Object(ft.jsx)("img",{className:"mr-4",src:t,alt:r})}),Object(ft.jsx)("p",{className:"".concat(Bt.a.ingredientName," mr-4"),children:r}),Object(ft.jsxs)("p",{className:"".concat(Bt.a.ingredientPrice," text_type_digits-default"),children:["".concat(n," x ").concat(c),Object(ft.jsx)("i",{className:"ml-2",children:Object(ft.jsx)(Ct.CurrencyIcon,{type:"primary"})})]})]},r)}(e)}))}),Object(ft.jsxs)("div",{className:"".concat(Bt.a.orderColumns),children:[Object(ft.jsx)("p",{className:"".concat(Bt.a.orderDate," text_type_main-default text_color_inactive"),children:m}),Object(ft.jsxs)("p",{className:"".concat(Bt.a.orderTotalPrice," text_type_digits-default"),children:[i,Object(ft.jsx)("i",{className:"ml-2",children:Object(ft.jsx)(Ct.CurrencyIcon,{type:"primary"})})]})]})]})},Vt=function(e){var t=e.orders,r=e.ingredientsList,n=Qe(),c=Object(bt.h)(),a=Object(bt.j)().url;return t.length?Object(ft.jsx)("ul",{className:"".concat(kt.a.list," scroller"),children:t.map((function(e){return Object(ft.jsx)("li",{children:Object(ft.jsx)(pt.b,{className:"".concat(kt.a.list_link),to:{pathname:"".concat(a,"/").concat(e.number),state:{background:c}},onClick:function(){n(_t(Ht))},children:Object(ft.jsx)(Lt,{orderInfo:e,ingredientsList:r})})},e._id)}))}):Object(ft.jsx)("p",{className:"text text_type_main-medium",children:"\u0417\u0434\u0435\u0441\u044c \u043f\u043e\u043a\u0430 \u0435\u0449\u0451 \u043f\u0443\u0441\u0442\u043e"})},zt=r(28),Jt=r.n(zt),Yt=function(e,t,r){return e.filter((function(e){return e.status===t})).slice(0,r)},qt=function(e){var t=e.orders,r=e.total,c=e.totalToday,a=Object(n.useMemo)((function(){return Yt(t,"done",5)}),[t]),i=Object(n.useMemo)((function(){return Yt(t,"pending",5)}),[t]);return Object(ft.jsxs)(ft.Fragment,{children:[Object(ft.jsxs)("div",{className:"".concat(Jt.a.ordersStatusContainer," mb-15"),children:[Object(ft.jsxs)("div",{className:"".concat(Jt.a.ordersStatusColumn," mr-6"),children:[Object(ft.jsx)("h3",{className:"".concat(Jt.a.orderStatusTitle," text text_type_main-medium mb-6"),children:"\u0413\u043e\u0442\u043e\u0432\u044b:"}),Object(ft.jsx)("ul",{className:"".concat(Jt.a.ordersList),children:a.map((function(e){var t=String(e.number).padStart(6,"0");return Object(ft.jsx)("li",{className:"mb-2",children:Object(ft.jsx)("p",{className:"".concat(Jt.a.orderId," ").concat(Jt.a.orderId_done," text text_type_digits-default"),children:t})},e.number)}))})]}),Object(ft.jsxs)("div",{className:"".concat(Jt.a.ordersStatusColumn),children:[Object(ft.jsx)("h3",{className:"".concat(Jt.a.orderStatusTitle," text text_type_main-medium mb-6"),children:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435:"}),Object(ft.jsx)("ul",{className:"".concat(Jt.a.ordersList),children:i.map((function(e){var t=String(e.number).padStart(6,"0");return Object(ft.jsx)("li",{className:"mb-2",children:Object(ft.jsx)("p",{className:"".concat(Jt.a.orderId," text text_type_digits-default"),children:t})},e.number)}))})]})]}),Object(ft.jsx)("h3",{className:"text text_type_main-medium",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f:"}),Object(ft.jsx)("p",{className:"text text_type_digits-large text-with-glow mb-15",children:r}),Object(ft.jsx)("h3",{className:"text text_type_main-medium",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f:"}),Object(ft.jsx)("p",{className:"text text_type_digits-large text-with-glow",children:c})]})},Xt=r(7),Kt=r.n(Xt),Zt=function(){var e=Qe(),t=Be((function(e){return e.ingredients})).items,r=Be((function(e){return e.websocket})),c=r.orders,a=r.total,i=r.totalToday;return Object(n.useEffect)((function(){return e(De("wss://norma.nomoreparties.space/orders/all")),function(){e(Me())}}),[e]),t.length&&c.length?Object(ft.jsxs)("section",{className:"pt-10",children:[Object(ft.jsx)("h1",{className:"text text_type_main-large mb-4",children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),Object(ft.jsxs)("div",{className:"columnsContainer",children:[Object(ft.jsxs)("section",{className:"column mr-10",children:[Object(ft.jsx)("h2",{className:"visualliHidden",children:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 \u0437\u0430\u043a\u0430\u0437\u044b"}),Object(ft.jsx)(Vt,{orders:c,ingredientsList:t})]}),Object(ft.jsxs)("section",{className:"column",children:[Object(ft.jsx)("h2",{className:"visualliHidden",children:"\u0421\u0432\u043e\u0434\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"}),Object(ft.jsx)(qt,{orders:c,total:a,totalToday:i})]})]})]}):Object(ft.jsxs)("section",{className:"pt-30",children:[Object(ft.jsx)("h1",{className:"text text_type_main-large mb-30",children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),Object(ft.jsx)("div",{className:"".concat(Kt.a.loaderContainer),children:Object(ft.jsx)(Gt,{})})]})},$t=function(e){return{type:z,payload:e}},er=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,tr=function(){var e=Qe(),t=Object(bt.g)(),r=Be((function(e){return e.formForgotPassword})),c=r.form,a=r.VERIFY_EMAIL_SUCCESS,i=r.VERIFY_EMAIL_REQUEST,s=r.verifiedEmail,o=Object(n.useState)(!0),l=Object(gt.a)(o,2),u=l[0],d=l[1];Object(n.useEffect)((function(){a&&s&&(t.replace({pathname:"/reset-password"}),e({type:J}))}),[t,e,a,s]);var m=Object(n.useCallback)((function(t){var r;d(er.test(t.target.value)),e((r={name:t.target.name,value:t.target.value},{type:V,payload:r}))}),[e,d]),j=Object(n.useCallback)((function(t){t.preventDefault(),u&&""!==c.email&&e(function(){var e=Object(ze.a)(Ve.a.mark((function e(t,r){var n;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r().formForgotPassword.form,t({type:Y}),t($t(null)),e.next=5,at(n).then((function(e){if(e.ok)return e.json();throw new Error("Failed verify email request")})).then((function(e){if(!e.success)throw new Error("Unsuccessful verify email request");return t({type:q}),t($t(n.email)),e})).catch((function(e){t({type:X}),console.error(e)}));case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}())}),[e,u,c]);return Object(ft.jsxs)("section",{className:"".concat(Kt.a.formContainer," pt-30"),children:[Object(ft.jsx)("h1",{className:"text text_type_main-medium mb-6",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(ft.jsxs)("form",{onSubmit:j,children:[Object(ft.jsx)("div",{className:"".concat(Kt.a.inputWrapper," mb-6"),children:Object(ft.jsx)(Ct.Input,{type:"email",placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 e-mail",onChange:m,value:c.email,name:"email",error:!u,errorText:"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email",size:"default"})}),Object(ft.jsx)("div",{className:"mb-20",children:i?Object(ft.jsx)(Gt,{}):Object(ft.jsx)(Ct.Button,{type:"primary",size:"medium",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"})})]}),Object(ft.jsxs)("p",{className:"text text_type_main-default text_color_inactive",children:["\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c? ",Object(ft.jsx)(pt.b,{to:"/login",className:Kt.a.link,children:"\u0412\u043e\u0439\u0442\u0438"})]})]})},rr=r(199),nr=r(110),cr=r(64),ar=r(63),ir=r.n(ar),sr=r(200),or=r(32),lr=r.n(or),ur=function(){var e=Qe(),t=Be((function(e){return e.ingredients})).items,r=Object(bt.i)().id,c=Object(n.useMemo)((function(){return t.find((function(e){return e.id===r}))}),[t,r]);return t.length?c?Object(ft.jsxs)(ft.Fragment,{children:[Object(ft.jsx)("h2",{className:"".concat(lr.a.title," text text_type_main-large mt-10"),children:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430"}),Object(ft.jsx)("img",{className:"mb-4",src:c.imageLarge,alt:c.name,width:"480",height:"240"}),Object(ft.jsx)("h3",{className:"".concat(lr.a.ingredientName," text_type_main-medium mb-8"),children:c.name}),Object(ft.jsxs)("dl",{className:"".concat(lr.a.composition," text_type_main-default text_color_inactive mb-15"),children:[Object(ft.jsxs)("div",{className:lr.a.compositionItem,children:[Object(ft.jsx)("dt",{className:"mb-2",children:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438,\u043a\u043a\u0430\u043b"}),Object(ft.jsx)("dd",{className:"text_type_digits-default",children:c.calories})]}),Object(ft.jsxs)("div",{className:lr.a.compositionItem,children:[Object(ft.jsx)("dt",{className:"mb-2",children:"\u0411\u0435\u043b\u043a\u0438, \u0433"}),Object(ft.jsx)("dd",{className:"text_type_digits-default",children:c.proteins})]}),Object(ft.jsxs)("div",{className:lr.a.compositionItem,children:[Object(ft.jsx)("dt",{className:"mb-2",children:"\u0416\u0438\u0440\u044b, \u0433"}),Object(ft.jsx)("dd",{className:"text_type_digits-default",children:c.fat})]}),Object(ft.jsxs)("div",{className:lr.a.compositionItem,children:[Object(ft.jsx)("dt",{className:"mb-2",children:"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b, \u0433"}),Object(ft.jsx)("dd",{className:"text_type_digits-default",children:c.carbohydrates})]})]})]}):Object(ft.jsxs)(ft.Fragment,{children:[Object(ft.jsx)("h2",{className:"text text_type_main-large mb-20",children:"\u041e\u0448\u0438\u0431\u043a\u0430!"}),Object(ft.jsx)("p",{className:"text text_type_main-medium",children:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e\u0431 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0435."})]}):(e(jt()),Object(ft.jsx)("div",{className:"".concat(lr.a.loaderContainer),children:Object(ft.jsx)(Gt,{})}))},dr=r(41),mr=r.n(dr),jr=function(e){var t=e.id,r=e.type,n=e.name,c=e.price,a=e.image,i=e.proteins,s=e.fat,o=e.carbohydrates,l=e.calories,u=e.count,d=Qe(),m=Object(bt.h)(),j=Object(sr.a)({type:"ingredient",item:{id:t,type:r,name:n,price:c,image:a,proteins:i,fat:s,carbohydrates:o,calories:l}}),_=Object(gt.a)(j,2)[1];return Object(ft.jsx)(ft.Fragment,{children:Object(ft.jsxs)(pt.b,{to:{pathname:"/ingredients/".concat(t),state:{background:m}},className:mr.a.card,ref:_,onClick:function(){d(_t(ur))},children:[Object(ft.jsx)("img",{className:"".concat(mr.a.image," pb-1"),src:a,alt:n}),Object(ft.jsxs)("span",{className:"".concat(mr.a.price," text_type_digits-default mb-1"),children:[c,Object(ft.jsx)("i",{className:"ml-2",children:Object(ft.jsx)(Ct.CurrencyIcon,{type:"primary"})})]}),Object(ft.jsx)("h3",{className:"".concat(mr.a.title," text_type_main-default"),children:n}),u?Object(ft.jsx)("i",{className:mr.a.counter,children:Object(ft.jsx)(Ct.Counter,{count:u,size:"default"})}):null]},t)})},_r=r(87),br=r.n(_r),pr=function(e){var t=e.title,r=e.ingredients,c=e.isActive,a=e.sectionRef,i=e.titleRef,s=Object(n.useCallback)((function(){var e;c&&(null===a||void 0===a?void 0:a.current)&&(null===(e=a.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"start"}))}),[c,a]);return Object(n.useEffect)((function(){s()}),[s]),0===r.length?null:Object(ft.jsxs)("section",{className:"pt-10",ref:a,children:[Object(ft.jsx)("h2",{className:"".concat(br.a.title," text_type_main-medium mb-6"),ref:i,children:t}),Object(ft.jsx)("ul",{className:"".concat(br.a.items," pl-4"),children:r.map((function(e){return Object(ft.jsx)("li",{children:Object(ft.jsx)(jr,Object(d.a)({},e))},e.id)}))})]},t)},Or=[{id:"bun",navTitle:"\u0411\u0443\u043b\u043a\u0438",sectionTitle:"\u0411\u0443\u043b\u043a\u0438"},{id:"sauce",navTitle:"\u0421\u043e\u0443\u0441\u044b",sectionTitle:"\u0421\u043e\u0443\u0441\u044b"},{id:"main",navTitle:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438",sectionTitle:"\u041d\u0430\u0447\u0438\u043d\u043a\u0430"}],fr=function(){var e=Be((function(e){return e.ingredients})).items,t=Object(n.useState)("bun"),r=Object(gt.a)(t,2),c=r[0],a=r[1],i=Object(cr.a)({threshold:0}),s=i.ref,o=i.inView,l=Object(cr.a)({threshold:0}),u=l.ref,d=l.inView,m=Object(cr.a)({threshold:0}),j=m.ref,_=m.inView,b={bunSectionRef:s,sauceSectionRef:u,mainSectionRef:j},p=Object(n.useRef)(null),O=Object(n.useRef)(null),f=Object(n.useRef)(null),x=Object(n.useMemo)((function(){return{bunTitleRef:p,sauceTitleRef:O,mainTitleRef:f}}),[p,O,f]);Object(n.useEffect)((function(){o?a("bun"):o||!d?d||!_||a("main"):a("sauce")}),[o,d,_]);var h=Object(n.useCallback)((function(e){var t={behavior:"smooth",block:"start"},r=x.bunTitleRef,n=x.sauceTitleRef;switch(e){case"bun":var c;null===(c=r.current)||void 0===c||c.scrollIntoView(t);break;case"sauce":var a;null===(a=n.current)||void 0===a||a.scrollIntoView(t);break;case"main":var i;null===(i=f.current)||void 0===i||i.scrollIntoView(t);break;default:return}}),[x]);return Object(ft.jsxs)("section",{className:"column mr-10",children:[Object(ft.jsx)("h1",{className:"".concat(ir.a.sectionTitle," text_type_main-large pt-10 mb-5"),children:"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u0440\u0433\u0435\u0440"}),Object(ft.jsx)("div",{className:ir.a.navigation,children:Or.map((function(e){return Object(ft.jsx)(Ct.Tab,{value:e.id,active:c===e.id,onClick:function(){a(e.id),h(e.id)},children:e.navTitle},e.id)}))}),Object(ft.jsx)("div",{className:"".concat(ir.a.catalog," scroller"),children:Or.map((function(t){return Object(ft.jsx)(pr,{title:t.sectionTitle,isActive:c===t.id,ingredients:(r=e,n=t.id,r.filter((function(e){return e.type===n}))),sectionRef:b["".concat(t.id,"SectionRef")],titleRef:x["".concat(t.id,"TitleRef")]},t.id);var r,n}))})]})},xr=r(201),hr=r(15),Er=r.n(hr),Sr=function(e){var t=e.id,r=e.uuid,c=e.index,a=e.name,i=e.price,s=e.image,o=e.handleClose,l=Qe(),u=Object(n.useRef)(null),d=Object(sr.a)({type:"constructorItem",item:{id:t,uuid:r,index:c},collect:function(e){return{isDrag:e.isDragging()}}}),m=Object(gt.a)(d,2),j=m[0].isDrag,b=m[1],p=Object(xr.a)({accept:"constructorItem",hover:function(e,t){var r;if(u.current){var n=e.index,a=c;if(n!==a){var i=null===(r=u.current)||void 0===r?void 0:r.getBoundingClientRect(),s=(i.bottom-i.top)/2,o=t.getClientOffset();if(o){var d=o.y-i.top;if(n<a&&d<s)return;if(n>a&&d>s)return}l({type:_,payload:{dragged:n,hovered:a}}),e.index=a}}}}),O=Object(gt.a)(p,2)[1];return Object(ft.jsxs)("li",{className:"".concat(Er.a.listItem," ").concat(j?Er.a.draggingItem:""),ref:function(e){u.current=e,b(e),O(e)},children:[Object(ft.jsx)("i",{className:"".concat(Er.a.itemIcon," mr-2"),children:Object(ft.jsx)(Ct.DragIcon,{type:"primary"})}),Object(ft.jsx)(Ct.ConstructorElement,{text:a,price:i,thumbnail:s,handleClose:o})]},r)},gr=r.p+"static/media/done.c7a44869.gif",Rr=r(42),vr=r.n(Rr),yr=function(){var e=Be((function(e){return e.order})).orderData;return Object(ft.jsxs)(ft.Fragment,{children:[Object(ft.jsx)("h2",{className:"visually-hidden",children:"\u0417\u0430\u043a\u0430\u0437 \u043f\u0435\u0440\u0435\u0434\u0430\u043d \u0432 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443"}),Object(ft.jsxs)("dl",{className:"".concat(vr.a.order," mt-30"),children:[Object(ft.jsx)("dt",{className:"".concat(vr.a.orderText," text_type_main-medium"),children:"\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(ft.jsx)("dd",{className:"".concat(vr.a.orderId," text_type_digits-large mb-8"),children:e.number?e.number:null})]}),Object(ft.jsx)("img",{className:"mt-15 mb-15",alt:"Success!",src:gr,width:"120",height:"120"}),Object(ft.jsx)("p",{className:"".concat(vr.a.text," text_type_main-default mb-2"),children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430\u0447\u0430\u043b\u0438 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c"}),Object(ft.jsx)("p",{className:"".concat(vr.a.text," text_type_main-default text_color_inactive mb-30"),children:"\u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u043e\u0440\u0431\u0438\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0430\u043d\u0446\u0438\u0438"})]})},Nr=r(202),Cr=function(){var e=Qe(),t=Object(bt.g)(),r=Object(bt.h)(),c=Be((function(e){return e.burgerConstructor})).items,a=Be((function(e){return e.order})),i=a.ORDER_REQUEST,s=a.ORDER_SUCCESS,o=Be((function(e){return e.user})).user,l=Be((function(e){return e.modal})).isOpen;Object(n.useEffect)((function(){s&&(t.push("/order",{background:r}),e(_t(yr)),e({type:C}),e({type:p}),e({type:S}))}),[t,r,e,l,s]);var _=Object(xr.a)({accept:"ingredient",drop:function(t){var r;"bun"===t.type?e(function(e){return{type:b,payload:e}}(Object(d.a)(Object(d.a)({},t),{},{uuid:Object(Nr.a)()}))):e(function(e){return{type:m,payload:e}}(Object(d.a)(Object(d.a)({},t),{},{uuid:Object(Nr.a)()}))),e((r={id:t.id,type:t.type},{type:h,payload:r}))},collect:function(e){return{canAccept:e.canDrop()}}}),O=Object(gt.a)(_,2),f=O[0].canAccept,x=O[1],g=Object(n.useState)(!1),R=Object(gt.a)(g,2),T=R[0],I=R[1],U=Object(n.useMemo)((function(){var e=c.find((function(e){return"bun"===e.type}));return I(!!e),e}),[c,I]),w=Object(n.useMemo)((function(){return c.filter((function(e){return"bun"!==e.type}))}),[c]),k=Object(n.useMemo)((function(){return U?[U].concat(Object(u.a)(w),[U]):Object(u.a)(w)}),[U,w]),L=Object(n.useMemo)((function(){return k.reduce((function(e,t){return e+(null===t||void 0===t?void 0:t.price)}),0)}),[k]),A=Object(n.useCallback)((function(){if(o){var r={ingredients:k.map((function(e){return e.id}))};e((n=r,function(){var e=Object(ze.a)(Ve.a.mark((function e(t){return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:v}),e.next=3,ct(n).then((function(e){if(!e.ok&&403!==e.status)throw new Error("Failed send order request");return e.json()})).then((function(e){if(!e.success)throw e;var r;t((r=Object(d.a)({},e.order),{type:y,payload:r}))})).catch((function(e){"jwt expired"===e.message?t(ot(ct(n))):(t({type:N}),console.error("Order request error:",e))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}else t.replace({pathname:"/login"});var n}),[o,t,e,k]),F=Object(n.useMemo)((function(){return function(t){var r=t.id,n=t.uuid;return function(){e({type:j,payload:n}),e({type:E,payload:r})}}}),[e]),G=Object(n.useMemo)((function(){return T?w.length?i?Object(ft.jsx)(Gt,{}):Object(ft.jsx)(Ct.Button,{type:"primary",size:"large",onClick:A,children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"}):Object(ft.jsx)(Ct.Button,{type:"primary",size:"large",onClick:function(){},children:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u044b"}):Object(ft.jsx)(Ct.Button,{type:"primary",size:"large",onClick:function(){},children:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0431\u0443\u043b\u043e\u0447\u043a\u0443"})}),[w,T,i,A]);return 0===c.length?Object(ft.jsxs)("section",{className:"column pt-25 pr-4",ref:x,children:[Object(ft.jsx)("h2",{className:"visualliHidden",children:"\u0412\u0430\u0448\u0430 \u0441\u0431\u043e\u0440\u043a\u0430"}),Object(ft.jsx)("div",{className:"".concat(Er.a.emptyConstructor," ").concat(Er.a.emptyConstructor_maxHeight," ").concat(f?Er.a.canAccept:""),children:Object(ft.jsx)("p",{className:"text text_type_main-medium",children:"\u041f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u044b \u0441\u044e\u0434\u0430"})})]}):Object(ft.jsxs)("section",{className:"".concat(f?Er.a.canAccept:""," column pt-25 pr-4"),ref:x,children:[Object(ft.jsx)("h2",{className:"visualliHidden",children:"\u0412\u0430\u0448\u0430 \u0441\u0431\u043e\u0440\u043a\u0430"}),U&&Object(ft.jsx)("div",{className:"mb-4 pl-8 pr-4",children:Object(ft.jsx)(Ct.ConstructorElement,{type:"top",isLocked:!0,text:"".concat(U.name," (\u0432\u0435\u0440\u0445)"),price:U.price,thumbnail:U.image})}),!w.length&&Object(ft.jsx)("ul",{className:"".concat(Er.a.ingredientsList," ").concat(Er.a.emptyConstructor),children:Object(ft.jsx)("li",{children:Object(ft.jsx)("p",{className:"text text_type_main-medium",children:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u044b"})})}),w.length>0&&Object(ft.jsx)("ul",{className:"".concat(Er.a.ingredientsList," scroller"),children:c.map((function(e,t){return"bun"===e.type?null:Object(ft.jsx)(Sr,{id:e.id,uuid:e.uuid,index:t,name:e.name,price:e.price,image:e.image,handleClose:F({uuid:e.uuid,id:e.id})},e.uuid)}))}),U&&Object(ft.jsx)("div",{className:"mt-4 pl-8 pr-4",children:Object(ft.jsx)(Ct.ConstructorElement,{type:"bottom",isLocked:!0,text:"".concat(U.name," (\u043d\u0438\u0437)"),price:U.price,thumbnail:U.image})}),Object(ft.jsxs)("div",{className:"".concat(Er.a.order," mt-10 pr-4"),children:[Object(ft.jsxs)("span",{className:"".concat(Er.a.orderTotal," text_type_digits-medium mr-10"),children:[L,Object(ft.jsx)("i",{className:"".concat(Er.a.orderCurrencyIcon," ml-2"),children:Object(ft.jsx)(Ct.CurrencyIcon,{type:"primary"})})]}),G]})]})},Tr=function(){return Object(ft.jsx)(rr.a,{backend:nr.a,children:Object(ft.jsxs)("div",{className:"columnsContainer",children:[Object(ft.jsx)(fr,{}),Object(ft.jsx)(Cr,{})]})})},Ir=r(31),Ur=r.n(Ir),wr=function(){var e=Qe(),t=Be((function(e){return e.ingredients})).items,r=Object(bt.i)().id,c=Object(n.useMemo)((function(){return t.find((function(e){return e.id===r}))}),[t,r]);return t.length?c?Object(ft.jsxs)("section",{className:"".concat(Kt.a.pageContainer," ").concat(Ur.a.container," center-children mt-30"),children:[Object(ft.jsx)("h1",{className:"".concat(Ur.a.title," text text_type_main-large mt-10"),children:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430"}),Object(ft.jsx)("img",{className:"mb-4",src:c.imageLarge,alt:c.name,width:"480",height:"240"}),Object(ft.jsx)("h2",{className:"".concat(Ur.a.ingredientName," text_type_main-medium mb-8"),children:c.name}),Object(ft.jsxs)("dl",{className:"".concat(Ur.a.composition," text_type_main-default text_color_inactive mb-15"),children:[Object(ft.jsxs)("div",{className:Ur.a.compositionItem,children:[Object(ft.jsx)("dt",{className:"mb-2",children:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438,\u043a\u043a\u0430\u043b"}),Object(ft.jsx)("dd",{className:"text_type_digits-default",children:c.calories})]}),Object(ft.jsxs)("div",{className:Ur.a.compositionItem,children:[Object(ft.jsx)("dt",{className:"mb-2",children:"\u0411\u0435\u043b\u043a\u0438, \u0433"}),Object(ft.jsx)("dd",{className:"text_type_digits-default",children:c.proteins})]}),Object(ft.jsxs)("div",{className:Ur.a.compositionItem,children:[Object(ft.jsx)("dt",{className:"mb-2",children:"\u0416\u0438\u0440\u044b, \u0433"}),Object(ft.jsx)("dd",{className:"text_type_digits-default",children:c.fat})]}),Object(ft.jsxs)("div",{className:Ur.a.compositionItem,children:[Object(ft.jsx)("dt",{className:"mb-2",children:"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b, \u0433"}),Object(ft.jsx)("dd",{className:"text_type_digits-default",children:c.carbohydrates})]})]})]}):Object(ft.jsxs)("section",{className:"".concat(Kt.a.pageContainer),children:[Object(ft.jsx)("h2",{className:"text text_type_main-large mb-20 pt-30",children:"\u041e\u0448\u0438\u0431\u043a\u0430!"}),Object(ft.jsx)("p",{className:"text text_type_main-medium mb-4",children:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e\u0431 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0435."}),Object(ft.jsx)("p",{children:Object(ft.jsx)(pt.b,{to:"/",className:"".concat(Kt.a.link),children:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"})})]}):(e(jt()),Object(ft.jsx)("div",{className:"".concat(Ur.a.loaderContainer," pt-30"),children:Object(ft.jsx)(Gt,{})}))},kr=function(){var e=Qe(),t=Object(bt.g)(),r=Object(bt.h)(),c=Be((function(e){return e.formLogin})).form,a=Be((function(e){return e.user})),i=a.user,s=a.LOGIN_REQUEST,o=a.LOGIN_SUCCESS,l=Object(n.useState)(!1),u=Object(gt.a)(l,2),d=u[0],m=u[1],j=Object(n.useState)(!0),_=Object(gt.a)(j,2),b=_[0],p=_[1],O=Object(n.useState)(!0),f=Object(gt.a)(O,2),x=f[0],h=f[1],E=Object(n.useMemo)((function(){return r.state||{from:{pathname:"/"}}}),[r]).from,S=Object(n.useCallback)((function(t){var r;"email"===t.target.name&&p(er.test(t.target.value)),"password"===t.target.name&&h(""!==t.target.value),e((r={name:t.target.name,value:t.target.value},{type:K,payload:r}))}),[e]),g=function(){m(!d)};if(o&&i)t.replace(E),e({type:Z});else if(i)return Object(ft.jsx)(bt.a,{to:"/"});return Object(ft.jsxs)("section",{className:"".concat(Kt.a.formContainer," pt-30"),children:[Object(ft.jsx)("h1",{className:"text text_type_main-medium mb-6",children:"\u0412\u0445\u043e\u0434"}),Object(ft.jsxs)("form",{className:"".concat(Kt.a.form," mb-20"),onSubmit:function(t){t.preventDefault(),""!==c.email&&b&&""!==c.password&&e(function(e){return function(){var t=Object(ze.a)(Ve.a.mark((function t(r){return Ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:k}),t.next=3,tt(e).then((function(e){if(e.ok)return e.json();throw new Error("Failed login request")})).then((function(e){if(e.success){var t=e.accessToken.split("Bearer ")[1];return r(st(e.user)),Ye("accessToken",t),localStorage.setItem("refreshToken",e.refreshToken),r({type:L}),e}throw new Error("Unsuccessful login request")})).catch((function(e){r({type:A}),console.error(e)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(c))},children:[Object(ft.jsx)("div",{className:"".concat(Kt.a.inputWrapper," mb-6"),children:Object(ft.jsx)(Ct.Input,{type:"email",placeholder:"E-mail",onChange:S,value:c.email,name:"email",error:!b,errorText:"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email",size:"default"})}),Object(ft.jsx)("div",{className:"".concat(Kt.a.inputWrapper," mb-6"),children:d?Object(ft.jsx)(Ct.Input,{type:"text",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",onChange:S,icon:"HideIcon",value:c.password,name:"password",error:!x,onIconClick:g,errorText:"\u041d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c",size:"default"}):Object(ft.jsx)(Ct.Input,{type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",onChange:S,icon:"ShowIcon",value:c.password,name:"password",error:!x,onIconClick:g,errorText:"\u041d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c",size:"default"})}),s?Object(ft.jsx)(Gt,{}):Object(ft.jsx)(Ct.Button,{type:"primary",size:"medium",children:"\u0412\u043e\u0439\u0442\u0438"})]}),Object(ft.jsxs)("p",{className:"text text_type_main-default text_color_inactive mb-4",children:["\u0412\u044b\xa0\u2014 \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c? ",Object(ft.jsx)(pt.b,{to:"/register",className:Kt.a.link,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(ft.jsxs)("p",{className:"text text_type_main-default text_color_inactive",children:["\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c? ",Object(ft.jsx)(pt.b,{to:"/forgot-password",className:Kt.a.link,children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]})]})},Lr=r(19),Ar=r.n(Lr),Fr=function(){var e=Be((function(e){return e.ingredients})).items,t=Object(bt.i)().orderNumber,r=Object(n.useState)(null),c=Object(gt.a)(r,2),a=c[0],i=c[1],s=Object(n.useState)({PENDING:!1,SUCCESS:!1,ERROR:!1}),o=Object(gt.a)(s,2),l=o[0],u=o[1];Object(n.useEffect)((function(){u({PENDING:!0,SUCCESS:!1,ERROR:!0}),$e(t).then((function(e){return e.ok||u({PENDING:!1,SUCCESS:!1,ERROR:!0}),e.json()})).then((function(e){i(e.orders[0]),u({PENDING:!1,SUCCESS:!0,ERROR:!1})})).catch((function(e){u({PENDING:!1,SUCCESS:!1,ERROR:!0}),console.error(e)}))}),[t]);var d=Object(n.useMemo)((function(){return a&&e.length?Rt(null===a||void 0===a?void 0:a.ingredients,e):[]}),[a,e]),m=Object(n.useMemo)((function(){return d.reduce((function(e,t){return e+t.price}),0)}),[d]);if(l.PENDING||!e||!e.length)return Object(ft.jsx)("div",{className:"".concat(Kt.a.loaderContainer," pt-30"),children:Object(ft.jsx)(Gt,{})});if(l.ERROR&&"".concat(Kt.a.loaderContainer," pt-30"),a&&!a.number&&"".concat(Kt.a.loaderContainer," pt-30"),a){var j=a.name,_=a.number,b=a.status,p=a.createdAt,O="#".concat(String(_).padStart(6,"0")),f=Nt(p);return Object(ft.jsxs)("section",{className:"".concat(Ar.a.pageContainer," text text_type_main-default pt-30"),children:[Object(ft.jsx)("h1",{className:"visualliHidden",children:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0437\u0430\u043a\u0430\u0437\u0435"}),Object(ft.jsx)("h2",{className:"".concat(Ar.a.orderNumber," text text_type_digits-default mb-10"),children:O}),Object(ft.jsx)("p",{className:"".concat(Ar.a.orderName," text text_type_main-medium mb-3"),children:j}),Object(ft.jsx)("p",{className:"".concat(Ar.a.orderStatus," mb-15"),children:Object(ft.jsx)(Wt,{status:b})}),Object(ft.jsx)("h3",{className:"".concat(Ar.a.orderComposition," text text_type_main-medium mb-6"),children:"\u0421\u043e\u0441\u0442\u0430\u0432:"}),Object(ft.jsx)("ul",{className:"".concat(Ar.a.ingredientsList," scroller pr-6 mb-10"),children:d.map((function(e){return function(e){var t=e.img,r=e.name,n=e.count,c=e.price;return Object(ft.jsxs)("li",{className:"".concat(Ar.a.ingredient," text text_type_main-default"),children:[Object(ft.jsx)("div",{className:"".concat(Ar.a.ingredientPreview," mr-4"),children:Object(ft.jsx)("img",{className:"mr-4",src:t,alt:r})}),Object(ft.jsx)("p",{className:"".concat(Ar.a.ingredientName," mr-4"),children:r}),Object(ft.jsxs)("p",{className:"".concat(Ar.a.ingredientPrice," text_type_digits-default"),children:["".concat(n," x ").concat(c),Object(ft.jsx)("i",{className:"ml-2",children:Object(ft.jsx)(Ct.CurrencyIcon,{type:"primary"})})]})]},r)}(e)}))}),Object(ft.jsxs)("div",{className:"".concat(Ar.a.orderColumns),children:[Object(ft.jsx)("p",{className:"".concat(Ar.a.orderDate," text_type_main-default text_color_inactive"),children:f}),Object(ft.jsxs)("p",{className:"".concat(Ar.a.orderTotalPrice," text_type_digits-default"),children:[m,Object(ft.jsx)("i",{className:"ml-2",children:Object(ft.jsx)(Ct.CurrencyIcon,{type:"primary"})})]})]})]})}return null},Gr=r(35),Pr=r.n(Gr),Dr={default:"".concat(Pr.a.navLink," text_color_inactive"),active:"".concat(Pr.a.navLink_active)},Mr=function(e){var t=e.extraClasses,r=Qe(),c=Object(n.useCallback)((function(e){e.preventDefault(),r(function(){var e=Object(ze.a)(Ve.a.mark((function e(t){return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:F}),e.next=3,nt().then((function(e){e.ok&&(t(st(null)),Ye("accessToken",null,{expires:-1}),localStorage.removeItem("refreshToken"),t({type:G}))})).catch((function(e){t({type:P}),console.error(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[r]);return Object(ft.jsxs)("ul",{className:"".concat(Pr.a.list," ").concat(t," text text_type_main-medium"),children:[Object(ft.jsx)("li",{className:"".concat(Pr.a.list_item),children:Object(ft.jsx)(pt.c,{to:"/profile",exact:!0,className:Dr.default,activeClassName:Dr.active,children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})}),Object(ft.jsx)("li",{className:"".concat(Pr.a.list_item),children:Object(ft.jsx)(pt.c,{to:"/profile/orders",className:Dr.default,activeClassName:Dr.active,children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})}),Object(ft.jsx)("li",{className:"".concat(Pr.a.list_item),children:Object(ft.jsx)(pt.b,{to:"/",className:Dr.default,onClick:c,children:"\u0412\u044b\u0445\u043e\u0434"})})]})},Wr=r(43),Qr=r.n(Wr),Br=function(){var e=Qe(),t=Be((function(e){return e.formProfile})).form,r=Be((function(e){return e.user})),c=r.user,a=r.PATCH_USER_REQUEST;Object(n.useEffect)((function(){return c&&e({type:$,payload:c}),function(){e({type:re})}}),[e,c]);var i=Object(n.useCallback)((function(t){var r;e((r={name:t.target.name,value:t.target.value},{type:ee,payload:r}))}),[e]),s=Object(n.useCallback)((function(r){r.preventDefault(),e(ut(t))}),[e,t]),o=Object(n.useCallback)((function(t){t.preventDefault(),e({type:te})}),[e]);return Object(ft.jsxs)("form",{className:"".concat(Qr.a.form),onSubmit:s,children:[Object(ft.jsx)("div",{className:"".concat(Qr.a.inputWrapper," mb-6"),children:Object(ft.jsx)(Ct.Input,{type:"text",placeholder:"\u0418\u043c\u044f",onChange:i,icon:"EditIcon",value:t.name?t.name:"",name:"name",error:!1,errorText:"\u041d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u043e\u0435 \u0438\u043c\u044f",size:"default"})}),Object(ft.jsx)("div",{className:"".concat(Qr.a.inputWrapper," mb-6"),children:Object(ft.jsx)(Ct.Input,{type:"email",placeholder:"\u041b\u043e\u0433\u0438\u043d",onChange:i,icon:"EditIcon",value:t.email?t.email:"",name:"email",error:!1,errorText:"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u043d\u0442\u044b\u0439 email",size:"default"})}),Object(ft.jsx)("div",{className:"".concat(Qr.a.inputWrapper," mb-6"),children:Object(ft.jsx)(Ct.Input,{type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",onChange:i,icon:"EditIcon",value:t.password?t.password:"",name:"password",error:!1,errorText:"\u041d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0435 \u0441\u0438\u043c\u0432\u043e\u043b\u044b",size:"default"})}),Object(ft.jsxs)("div",{className:"".concat(Qr.a.formControls),children:[Object(ft.jsx)(Ct.Button,{type:"secondary",size:"medium",onClick:o,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"}),a?Object(ft.jsx)(Gt,{}):Object(ft.jsx)(Ct.Button,{type:"primary",size:"medium",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})},Hr=r(30),Vr=r.n(Hr),zr=function(){return Object(ft.jsxs)("section",{className:"".concat(Vr.a.pageContainer," pt-10"),children:[Object(ft.jsx)("h1",{className:"visualliHidden",children:"\u041f\u0440\u043e\u0432\u0438\u043b\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),Object(ft.jsxs)("div",{className:"".concat(Vr.a.columnsContainer," mr-15"),children:[Object(ft.jsxs)("div",{className:"".concat(Vr.a.navContainer," mr-15"),children:[Object(ft.jsx)(Mr,{extraClasses:"mb-20"}),Object(ft.jsx)("p",{className:"text text_type_main-default text-dark",children:"\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0432\u043e\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"})]}),Object(ft.jsx)("div",{className:"".concat(Vr.a.profileContent),children:Object(ft.jsx)(Br,{})})]})]})},Jr=r(36),Yr=r.n(Jr),qr=function(e){var t=e.orderInfo,r=e.ingredientsList,c=t.ingredients,a=t.name,i=t.createdAt,s=t.number,o=t.status,l=Nt(i),u=Object(n.useMemo)((function(){return Rt(c,r)}),[c,r]),d=Object(n.useMemo)((function(){return u.reduce((function(e,t){return e+t.price*t.count}),0)}),[u]),m=Object(n.useMemo)((function(){return u.length>10?u.slice(0,10):u}),[u]),j=Object(n.useMemo)((function(){return u.length>10?u.length-10:0}),[u]);return Object(ft.jsxs)("div",{className:"".concat(Yr.a.card," text text_type_main-default p-6"),children:[Object(ft.jsxs)("div",{className:"".concat(Yr.a.card_header," mb-6"),children:[Object(ft.jsx)("p",{className:"text text_type_digits-default",children:"#".concat(String(s).padStart(6,"0"))}),Object(ft.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:l})]}),Object(ft.jsx)("h3",{className:"text text_type_main-medium mb-2",children:a}),Object(ft.jsx)("p",{className:"text mb-6",children:Object(ft.jsx)(Wt,{status:o})}),Object(ft.jsxs)("div",{className:"".concat(Yr.a.card_footer),children:[Object(ft.jsxs)("ul",{className:"".concat(Yr.a.card_ingredientsPreview),children:[m.map((function(e){var t=e.img,r=e.name,n=e.count;return Object(ft.jsx)(Ut,{img:t,name:t,count:n},r)})),j?Object(ft.jsx)(Ut,{leftItems:j},"lastInfo"):null]}),Object(ft.jsxs)("p",{className:"".concat(Yr.a.card_totalPrice," text text_type_digits-default"),children:[d,Object(ft.jsx)("i",{className:"".concat(Yr.a.card_totalPriceIcon," ml-2"),children:Object(ft.jsx)(Ct.CurrencyIcon,{type:"primary"})})]})]})]})},Xr=r(53),Kr=r.n(Xr),Zr=function(){var e=Qe(),t=Object(bt.h)(),r=Object(bt.j)().url,c=Be((function(e){return e.ingredients})).items,a=Be((function(e){return e.websocket})),i=a.wsConnected,s=a.error,o=a.orders,l=Object(n.useMemo)((function(){return o.length?Object(u.a)(o).reverse():[]}),[o]);return Object(n.useEffect)((function(){var t="".concat("wss://norma.nomoreparties.space/orders?token=").concat(Je("accessToken"));return e(De(t)),function(){e(Me())}}),[e]),(i||s)&&c.length?s?Object(ft.jsxs)("div",{className:"pt-20",children:[Object(ft.jsx)("p",{className:"text text_type_main-large text-with-glow mb-4",children:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 :("}),Object(ft.jsx)("p",{className:"text text_type_main-medium",children:"\u041d\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u0430"})]}):o.length?Object(ft.jsx)("ul",{className:"".concat(Kr.a.list," scroller"),children:l.map((function(n){return Object(ft.jsx)("li",{className:"mb-6",children:Object(ft.jsx)(pt.b,{className:"".concat(Kr.a.list_link),to:{pathname:"".concat(r,"/").concat(n.number),state:{background:t}},onClick:function(){e(_t(Ht))},children:Object(ft.jsx)(qr,{orderInfo:n,ingredientsList:c})})},n.number)}))}):Object(ft.jsxs)("div",{className:"pt-20",children:[Object(ft.jsx)("p",{className:"text text_type_main-large text-with-glow mb-4",children:"\u0417\u0434\u0435\u0441\u044c \u043f\u0443\u0441\u0442\u043e :("}),Object(ft.jsxs)("p",{className:"text text_type_main-medium",children:["\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0441\u0432\u043e\u0439 \u043f\u0435\u0440\u0432\u044b\u0439 \u0437\u0430\u043a\u0430\u0437 ",Object(ft.jsx)(pt.b,{to:"/",className:"".concat(Kr.a.link),children:"\u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u043e\u0439."})]})]}):Object(ft.jsx)("div",{className:"".concat(Kr.a.loaderContainer," pt-30"),children:Object(ft.jsx)(Gt,{})})},$r=function(){return Object(ft.jsxs)("section",{className:"".concat(Vr.a.pageContainer," pt-10"),children:[Object(ft.jsx)("h1",{className:"visualliHidden",children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),Object(ft.jsxs)("div",{className:"".concat(Vr.a.columnsContainer," mr-15"),children:[Object(ft.jsxs)("div",{className:"".concat(Vr.a.navContainer," mr-15"),children:[Object(ft.jsx)(Mr,{extraClasses:"mb-20"}),Object(ft.jsx)("p",{className:"text text_type_main-default text-dark",children:"\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0438\u0441\u0442\u043e\u0440\u0438\u044e \u0432\u0430\u0448\u0438\u0445 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})]}),Object(ft.jsx)("div",{className:"".concat(Vr.a.profileContent),children:Object(ft.jsx)(Zr,{})})]})]})},en=function(){var e=Qe(),t=Object(bt.g)(),r=Be((function(e){return e.formRegister})).form,c=Be((function(e){return e.user})),a=c.REGISTER_REQUEST,i=c.REGISTER_SUCCESS,s=Object(n.useState)(!0),o=Object(gt.a)(s,2),l=o[0],u=o[1],d=Object(n.useState)(!0),m=Object(gt.a)(d,2),j=m[0],_=m[1],b=Object(n.useState)(!1),p=Object(gt.a)(b,2),O=p[0],f=p[1];Object(n.useEffect)((function(){i&&t.replace({pathname:"/"})}),[t,i]);var x=Object(n.useCallback)((function(t){var r;"email"===t.target.name&&u(er.test(t.target.value)),"password"===t.target.name&&_(""!==t.target.value),e((r={name:t.target.name,value:t.target.value},{type:ne,payload:r}))}),[e]),h=function(){f(!O)};return Object(ft.jsxs)("section",{className:"".concat(Kt.a.formContainer," pt-30"),children:[Object(ft.jsx)("h1",{className:"text text_type_main-medium mb-6",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(ft.jsxs)("form",{onSubmit:function(t){t.preventDefault(),""!==r.email&&l&&""!==r.password&&""!==r.name&&e(function(e){return function(){var t=Object(ze.a)(Ve.a.mark((function t(r){return Ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,et(e).then((function(e){if(e.ok)return e.json();throw new Error("Failed register user request")})).then((function(e){if(e.success){var t=e.accessToken.split("Bearer ")[1];return r(st(e.user)),Ye("accessToken",t),localStorage.setItem("refreshToken",e.refreshToken),r({type:U}),e}throw new Error("Unsuccessful login request")})).catch((function(e){r({type:w}),console.error(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(r))},children:[Object(ft.jsx)("div",{className:"".concat(Kt.a.inputWrapper," mb-6"),children:Object(ft.jsx)(Ct.Input,{type:"text",placeholder:"\u0418\u043c\u044f",onChange:x,value:r.name,name:"name",error:!1,errorText:"\u041d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0435 \u0441\u0438\u043c\u0432\u043e\u043b\u044b",size:"default"})}),Object(ft.jsx)("div",{className:"".concat(Kt.a.inputWrapper," mb-6"),children:Object(ft.jsx)(Ct.Input,{type:"email",placeholder:"E-mail",onChange:x,value:r.email,name:"email",error:!l,errorText:"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email",size:"default"})}),Object(ft.jsx)("div",{className:"".concat(Kt.a.inputWrapper," mb-6"),children:O?Object(ft.jsx)(Ct.Input,{type:"text",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",onChange:x,icon:"HideIcon",value:r.password,name:"password",error:!j,onIconClick:h,errorText:"\u041d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0435 \u0441\u0438\u043c\u0432\u043e\u043b\u044b",size:"default"}):Object(ft.jsx)(Ct.Input,{type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",onChange:x,icon:"ShowIcon",value:r.password,name:"password",error:!j,onIconClick:h,errorText:"\u041d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0435 \u0441\u0438\u043c\u0432\u043e\u043b\u044b",size:"default"})}),Object(ft.jsx)("div",{className:"mb-20",children:a?Object(ft.jsx)(Gt,{}):Object(ft.jsx)(Ct.Button,{type:"primary",size:"medium",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})})]}),Object(ft.jsxs)("p",{className:"text text_type_main-default text_color_inactive",children:["\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? ",Object(ft.jsx)(pt.b,{to:"/login",className:Kt.a.link,children:"\u0412\u043e\u0439\u0442\u0438"})]})]})},tn=function(){return{type:le}},rn=function(){var e=Qe(),t=Object(bt.g)(),r=Be((function(e){return e.formResetPassword})),c=r.form,a=r.RESET_PASSWORD_REQUEST,i=r.RESET_PASSWORD_SUCCESS,s=r.RESET_PASSWORD_FAILURE,o=Be((function(e){return e.formForgotPassword})).verifiedEmail,l=Object(n.useState)(!0),u=Object(gt.a)(l,2),d=u[0],m=u[1],j=Object(n.useState)(!1),_=Object(gt.a)(j,2),b=_[0],p=_[1];Object(n.useEffect)((function(){return o||t.replace({pathname:"/forgot-password"}),i&&t.replace({pathname:"/login"}),function(){e({type:ie})}}),[e,t,o,i]);var O=Object(n.useCallback)((function(t){var r;"password"===t.target.name&&m(""!==t.target.value),e((r={name:t.target.name,value:t.target.value},{type:ae,payload:r}))}),[e]),f=function(){p(!b)};return Object(ft.jsxs)("section",{className:"".concat(Kt.a.formContainer," pt-30"),children:[Object(ft.jsx)("h1",{className:"text text_type_main-medium mb-6",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(ft.jsxs)("form",{onSubmit:function(t){t.preventDefault(),""!==c.password&&""!==c.token&&e(function(){var e=Object(ze.a)(Ve.a.mark((function e(t,r){var n;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r().formResetPassword.form,t({type:se}),e.next=4,it(n).then((function(e){if(e.ok)return e.json();throw t(tn()),new Error("Failed reset password request")})).then((function(e){return e.success&&t({type:oe}),e})).catch((function(e){t(tn()),console.error(e)}));case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}())},children:[Object(ft.jsx)("div",{className:"".concat(Kt.a.inputWrapper," mb-6"),children:b?Object(ft.jsx)(Ct.Input,{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",onChange:O,icon:"HideIcon",value:c.password,name:"password",error:!d,onIconClick:f,errorText:"\u041d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0435 \u0441\u0438\u043c\u0432\u043e\u043b\u044b",size:"default"}):Object(ft.jsx)(Ct.Input,{type:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",onChange:O,icon:"ShowIcon",value:c.password,name:"password",error:!1,onIconClick:f,errorText:"\u041d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0435 \u0441\u0438\u043c\u0432\u043e\u043b\u044b",size:"default"})}),Object(ft.jsx)("div",{className:"".concat(Kt.a.inputWrapper," mb-6"),children:Object(ft.jsx)(Ct.Input,{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u0438\u0437 \u043f\u0438\u0441\u044c\u043c\u0430",onChange:O,value:c.token,name:"token",error:s,errorText:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043a\u043e\u0434",size:"default"})}),Object(ft.jsx)("div",{className:"mb-20",children:a?Object(ft.jsx)(Gt,{}):Object(ft.jsx)(Ct.Button,{type:"primary",size:"medium",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]}),Object(ft.jsxs)("p",{className:"text text_type_main-default text_color_inactive",children:["\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c? ",Object(ft.jsx)(pt.b,{to:"/login",className:Kt.a.link,children:"\u0412\u043e\u0439\u0442\u0438"})]})]})},nn=function(){return Object(ft.jsxs)("div",{className:"".concat(Kt.a.pageContainer," text-center pt-30"),children:[Object(ft.jsx)("h1",{className:"text text_type_main-large mb-20",children:"404"}),Object(ft.jsx)("p",{className:"text text_type_main-medium mb-4",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"}),Object(ft.jsx)("p",{children:Object(ft.jsx)(pt.b,{to:"/",className:"".concat(Kt.a.link),children:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"})})]})},cn=r(20),an=r.n(cn),sn="/",on="/feed",ln="/profile",un="/login",dn=function(){var e=Be((function(e){return e.user})).user;return Object(ft.jsx)("header",{className:"".concat(an.a.header," pt-4 pb-4"),children:Object(ft.jsxs)("div",{className:"".concat(an.a.header_container),children:[Object(ft.jsx)("nav",{className:"".concat(an.a.appNavigation),children:Object(ft.jsxs)("ul",{className:"".concat(an.a.list),children:[Object(ft.jsx)("li",{className:"mr-2 pt-4 pb-4 pl-5 pr-5",children:Object(ft.jsxs)(pt.c,{exact:!0,to:"".concat(sn),className:"".concat(an.a.link," text text_type_main-default"),activeClassName:"".concat(an.a.link," ").concat(an.a.link_active," text text_type_main-default"),children:[Object(ft.jsx)("i",{className:"mr-2",children:Object(ft.jsx)(Ct.BurgerIcon,{type:"primary"})}),"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440"]})}),Object(ft.jsx)("li",{className:"pt-4 pb-4 pl-5 pr-5",children:Object(ft.jsxs)(pt.c,{to:"".concat(on),className:"".concat(an.a.link," text text_type_main-default"),activeClassName:"".concat(an.a.link," ").concat(an.a.link_active," text text_type_main-default"),children:[Object(ft.jsx)("i",{className:"mr-2",children:Object(ft.jsx)(Ct.ListIcon,{type:"primary"})}),"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"]})})]})}),Object(ft.jsx)(pt.b,{to:"".concat(sn),children:Object(ft.jsx)(Ct.Logo,{})}),Object(ft.jsx)("ul",{className:"".concat(an.a.userMenu),children:Object(ft.jsx)("li",{className:"pt-4 pb-4 pl-5 pr-5",children:e?Object(ft.jsxs)(pt.b,{to:"".concat(ln),className:"".concat(an.a.link," text text_type_main-default"),children:[Object(ft.jsx)("i",{className:"mr-2",children:Object(ft.jsx)(Ct.ProfileIcon,{type:"secondary"})}),"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"]}):Object(ft.jsxs)(pt.b,{to:"".concat(un),className:"".concat(an.a.link," text text_type_main-default"),children:[Object(ft.jsx)("i",{className:"mr-2",children:Object(ft.jsx)(Ct.ListIcon,{type:"secondary"})}),"\u0412\u043e\u0439\u0442\u0438"]})})})]})})},mn=r(109),jn=r.n(mn),_n=function(e){var t=e.closeModal,r=e.children,c=Object(n.useRef)(null),a=Object(n.useCallback)((function(e){e.target===c.current&&t()}),[t]),i=Object(n.useCallback)((function(e){"Escape"===e.key&&(e.preventDefault(),t())}),[t]);return Object(n.useEffect)((function(){return document.addEventListener("keydown",i),function(){document.removeEventListener("keydown",i)}}),[i]),Object(ft.jsx)("div",{className:jn.a.overlay,ref:c,onClick:a,children:r})},bn=r(89),pn=r.n(bn),On=document.getElementById("react-modals"),fn=function(e){var t=e.closeModal,r=Be((function(e){return e.modal})),n=r.isOpen,a=r.ComponentToView;return n&&On?Object(c.createPortal)(Object(ft.jsx)(_n,{closeModal:t,children:Object(ft.jsxs)("section",{className:"".concat(pn.a.modal," text pl-10 pr-10"),children:[Object(ft.jsx)("button",{className:pn.a.closeButton,"aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043c\u043e\u0434\u0430\u043b\u044c\u043d\u043e\u0435 \u043e\u043a\u043d\u043e",onClick:t,children:Object(ft.jsx)("i",{children:Object(ft.jsx)(Ct.CloseIcon,{type:"primary"})})}),a&&Object(ft.jsx)(a,{})]})}),On):null},xn=function(){var e=Qe(),t=Object(bt.g)(),r=Object(bt.h)(),n=("PUSH"===t.action||"REPLACE"===t.action)&&r.state&&r.state.background,c=Be((function(e){return e.modal})).isOpen,a=function(){e({type:R}),t.goBack()};return Object(ft.jsxs)(ft.Fragment,{children:[Object(ft.jsx)(dn,{}),Object(ft.jsxs)("main",{className:"container",children:[Object(ft.jsxs)(bt.d,{location:n||r,children:[Object(ft.jsx)(bt.b,{path:"/",exact:!0,children:Object(ft.jsx)(Tr,{})}),Object(ft.jsx)(bt.b,{path:"/login",exact:!0,children:Object(ft.jsx)(kr,{})}),Object(ft.jsx)(St,{path:"/register",exact:!0,children:Object(ft.jsx)(en,{})}),Object(ft.jsx)(St,{path:"/forgot-password",exact:!0,children:Object(ft.jsx)(tr,{})}),Object(ft.jsx)(St,{path:"/reset-password",exact:!0,children:Object(ft.jsx)(rn,{})}),Object(ft.jsx)(ht,{path:"/profile",exact:!0,children:Object(ft.jsx)(zr,{})}),Object(ft.jsx)(ht,{path:"/profile/orders",exact:!0,children:Object(ft.jsx)($r,{})}),Object(ft.jsx)(bt.b,{path:"/profile/orders/:orderNumber",exact:!0,children:Object(ft.jsx)(Fr,{})}),Object(ft.jsx)(bt.b,{path:"/ingredients/:id",exact:!0,children:Object(ft.jsx)(wr,{})}),Object(ft.jsx)(bt.b,{path:"/feed",exact:!0,children:Object(ft.jsx)(Zt,{})}),Object(ft.jsx)(bt.b,{path:"/feed/:orderNumber",exact:!0,children:Object(ft.jsx)(Fr,{})}),Object(ft.jsx)(bt.b,{children:Object(ft.jsx)(nn,{})})]}),n&&c&&Object(ft.jsx)(bt.b,{path:"/ingredients/:id",exact:!0,children:Object(ft.jsx)(fn,{closeModal:a})}),n&&c&&Object(ft.jsx)(bt.b,{path:"/order",exact:!0,children:Object(ft.jsx)(fn,{closeModal:a})}),n&&c&&Object(ft.jsx)(bt.b,{path:"/feed/:orderNumber",exact:!0,children:Object(ft.jsx)(fn,{closeModal:a})}),n&&c&&Object(ft.jsx)(bt.b,{path:"/profile/orders/:orderNumber",exact:!0,children:Object(ft.jsx)(fn,{closeModal:a})})]})]})},hn=function(){var e=Qe();return Object(n.useEffect)((function(){e(lt()),e(jt())}),[e]),Object(ft.jsx)(pt.a,{basename:"/praktikum_react-burger",children:Object(ft.jsx)(xn,{})})};r(192);a.a.render(Object(ft.jsx)(i.a,{store:We,children:Object(ft.jsx)(hn,{})}),document.getElementById("root"))},20:function(e,t,r){e.exports={header:"app-header_header__3T-Sz",header_container:"app-header_header_container__oOnWX",list:"app-header_list__6JyTt",appNavigation:"app-header_appNavigation__1lbYu app-header_list__6JyTt",userMenu:"app-header_userMenu__20Grg app-header_list__6JyTt",link:"app-header_link__sz-jy",link_active:"app-header_link_active__2Kg7r"}},28:function(e,t,r){e.exports={ordersStatusContainer:"orders-summary_ordersStatusContainer__1wwoQ",ordersStatusColumn:"orders-summary_ordersStatusColumn__yrUMv",orderStatusTitle:"orders-summary_orderStatusTitle__lErS7",ordersList:"orders-summary_ordersList__2I8LU",orderId:"orders-summary_orderId__2x6-z",orderId_done:"orders-summary_orderId_done__INXK9"}},29:function(e,t,r){e.exports={list:"orders-feed_list__iu6lR",list_link:"orders-feed_list_link__1E9rU",card:"orders-feed_card__1iMAG",card_header:"orders-feed_card_header__z21ZA",card_footer:"orders-feed_card_footer__OAfFw",card_ingredientsPreview:"orders-feed_card_ingredientsPreview__7I3WF",card_totalPrice:"orders-feed_card_totalPrice__w1hh8",card_totalPriceIcon:"orders-feed_card_totalPriceIcon__r-sHs"}},30:function(e,t,r){e.exports={pageContainer:"profile_pageContainer__1E4qi page-layout_pageContainer__1eiFg",columnsContainer:"profile_columnsContainer__3Dp6T",navContainer:"profile_navContainer__1avUQ",profileContent:"profile_profileContent__3XsT_",profileForm:"profile_profileForm__BcVID",profileForm_controls:"profile_profileForm_controls__2uAhh"}},31:function(e,t,r){e.exports={pageContainer:"ingredient_pageContainer__2wjfX",loaderContainer:"ingredient_loaderContainer__26UZT",container:"ingredient_container__2imcp",title:"ingredient_title__10Qry",ingredientName:"ingredient_ingredientName__2EEBG",composition:"ingredient_composition__MfBc9",compositionItem:"ingredient_compositionItem__EsXTA"}},32:function(e,t,r){e.exports={loaderContainer:"ingredient-details_loaderContainer__1yImu",title:"ingredient-details_title__bi6aP",ingredientName:"ingredient-details_ingredientName__2OOEs",composition:"ingredient-details_composition__3yghT",compositionItem:"ingredient-details_compositionItem__23sVv"}},35:function(e,t,r){e.exports={list:"profile-navigation_list__WmqNb",list_item:"profile-navigation_list_item__22ER3",navLink:"profile-navigation_navLink__3YyAb",navLink_active:"profile-navigation_navLink_active__1D3hT"}},36:function(e,t,r){e.exports={card:"order-card_card__11GMJ",card_header:"order-card_card_header__3UO4c",card_footer:"order-card_card_footer__3Wfij",card_ingredientsPreview:"order-card_card_ingredientsPreview__1WvsP",orderName:"order-card_orderName__2iV06",card_totalPrice:"order-card_card_totalPrice__2Usov",card_totalPriceIcon:"order-card_card_totalPriceIcon__3i8WV",orderStatus:"order-card_orderStatus__DpwC5",statusDone:"order-card_statusDone__DsWc1",statusInWork:"order-card_statusInWork__8cQ72",statusCanseled:"order-card_statusCanseled__3qwrS"}},40:function(e,t,r){e.exports={item:"preview-item_item__m2sKU",item_last:"preview-item_item_last__1K_Mf",more:"preview-item_more__3Qc78",count:"preview-item_count__32EBU",image:"preview-item_image__29E6z"}},41:function(e,t,r){e.exports={card:"burger-ingredient-card_card__BXFj1",image:"burger-ingredient-card_image__2U5r_",price:"burger-ingredient-card_price__3pV7x",title:"burger-ingredient-card_title__1BtGy",counter:"burger-ingredient-card_counter__1uylq"}},42:function(e,t,r){e.exports={order:"order-details_order__21gL-",orderId:"order-details_orderId__NIjzD",orderText:"order-details_orderText__zmRbp",text:"order-details_text__1nUW6"}},43:function(e,t,r){e.exports={form:"form-profile-update-user_form__257tH",formControls:"form-profile-update-user_formControls__3woWU",inputWrapper:"form-profile-update-user_inputWrapper__2BzEM"}},53:function(e,t,r){e.exports={loaderContainer:"user-orders_loaderContainer__1caCB",list:"user-orders_list__1Rjy2",list_link:"user-orders_list_link__F6dVm",link:"user-orders_link__In-g5",link_active:"user-orders_link_active__1syWG"}},63:function(e,t,r){e.exports={sectionTitle:"burger-ingredients_sectionTitle__32THE",navigation:"burger-ingredients_navigation__1H51C",catalog:"burger-ingredients_catalog__18i6v"}},7:function(e,t,r){e.exports={pageContainer:"page-layout_pageContainer__1eiFg",loaderContainer:"page-layout_loaderContainer__3ig_8",formContainer:"page-layout_formContainer__TGvcB",form:"page-layout_form__Hbjxs",inputWrapper:"page-layout_inputWrapper__3H-pJ",link:"page-layout_link__1elY0"}},85:function(e,t,r){e.exports={default:"order-status_default__dmg5L",created:"order-status_created__3NgX1",pending:"order-status_pending__3kv5P",done:"order-status_done__30wG2",canseled:"order-status_canseled__39C1Y"}},87:function(e,t,r){e.exports={title:"ingredient-section_title__3oHo4",items:"ingredient-section_items__2lfHL"}},89:function(e,t,r){e.exports={modal:"modal_modal__uhZXp",closeButton:"modal_closeButton__hIDb7"}}},[[193,1,2]]]);
//# sourceMappingURL=main.c87371e4.chunk.js.map